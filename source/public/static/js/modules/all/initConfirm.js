(function(){define(["libJqueryConfirm","libJqUtils"],function(){var n,t,e,o,r;console.log("initConfirm..."),r={body:"body, html",btnDeleteAction:".js-delete-confirm",btnChangeAction:".js-change-confirm"},e={},n=function(){e.body=$(r.body),e.btnDeleteAction=$(r.btnDeleteAction),e.btnChangeAction=$(r.btnChangeAction)},n(),t={},o={deleteConfirm:function(){return $("table").on("click",r.btnDeleteAction,function(){var n;return n=$(this),t={},t.title="Eliminar",t.content="Desea eliminar el registro?",t.confirmBtn="Eliminar",t.cancelBtn="Cancelar",t.contentSuccess="Se ha eliminado el registro correctamente",t.contentError="Ha ocurrido un error, intentelo nuevamente",t.obj=$(this),o.confirmMessage(t)})},changeStatusConfirm:function(){return $("table").on("click",r.btnChangeAction,function(){var n;return n=$(this),t={},t.title="Cambiar estado",t.content="Desea cambiar el estado del registro?",t.confirmBtn="Cambiar",t.cancelBtn="Cancelar",t.contentSuccess="Se ha cambiado el estado del registro correctamente",t.contentError="Ha ocurrido un error, intentelo nuevamente",t.obj=$(this),o.confirmMessage(t)})},confirmMessage:function(n){var t;return t=n.obj,$.confirm({title:n.title,content:n.content,confirmButton:n.confirmBtn,cancelButton:n.cancelBtn,confirmButtonClass:"btn-primary",cancelButtonClass:"btn-danger",theme:"hololight",closeIcon:!0,confirm:function(){var e;return e=t.attr("data-url"),utils.loader($("body"),!0),$.ajax({url:e,success:function(t){var e;return 1===t.state?($.dialog({title:"Correcto",content:n.contentSuccess},e=$("table").attr("id"),window.table[e].draw()),utils.loader($("body"),!1)):(t.msg,$.dialog({title:"Error",content:n.contentError}),utils.loader($("body"),!1))},error:function(){return $.dialog({title:"Error",content:n.contentError}),utils.loader($("body"),!1)}})},onOpen:function(){$(".glyphicon.glyphicon-remove").removeClass().addClass("icon icon-close")},cancel:function(){}})},simpleAlert:function(){var n,t;n=$(".alert li").html(),""!==n&&void 0!==n&&(t="",$(".alert").attr("class").search("success")>=0?t="Correcto":$(".alert").attr("class").search("warning")>=0&&(t="Alerta"),$(".alert").remove(),$.confirm({title:t,content:n,cancelButton:!1,autoClose:"confirm|3000",confirmButton:"Continuar",onOpen:function(){return $(".glyphicon.glyphicon-remove").removeClass().addClass("icon icon-close")}}))}},o.deleteConfirm(),o.changeStatusConfirm(),o.simpleAlert()})}).call(this);