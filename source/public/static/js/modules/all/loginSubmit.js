(function(){require([],function(){var e,t,o,a,n;a={contentFormLogin:"form.login",contentFormRecover:"form.recover",submitLogin:".btn_login",submitRecover:"#resetPassword button",domainData:window.location},t={},e=function(){t.contentFormLogin=$(a.contentFormLogin),t.contentFormRecover=$(a.contentFormRecover),t.submitLogin=$(a.submitLogin),t.submitRecover=$(a.submitRecover)},n=function(){t.submitLogin.on("click",o.getParsleyLogin),t.submitRecover.on("click",o.getParsleyRecover)},o={getParsleyLogin:function(e){return t.contentFormLogin.parsley().validate(),t.contentFormLogin.parsley().isValid()?(e.preventDefault(),o.getAjaxLogin()):void 0},getParsleyRecover:function(e){return t.contentFormRecover.parsley().validate(),t.contentFormRecover.parsley().isValid()?(e.preventDefault(),o.getAjaxRecover()):void 0},getAjaxLogin:function(){$.ajax({method:"POST",url:a.domainData.href+"login",dataType:"JSON",data:{email:$(".email").val(),password:$(".pass").val(),tokendevice:$(".token").val(),typedevice:1},beforeSend:function(){$(".alert").removeClass("actived"),$(".load").show("slow"),$(".email").attr("disabled",!0),$(".pass").attr("disabled",!0),t.submitLogin.attr("disabled",!0)},success:function(e){var o,n,i;return $(".load").hide("slow"),1===e.state?(o=a.domainData.origin,n=e.data.redirect,i=o+n,void(document.location.href=i)):($(".email").attr("disabled",!1),$(".pass").attr("disabled",!1),t.submitLogin.attr("disabled",!1),$(".alert").addClass("actived"),void $(".alert ul li").text(e.data_error.email))}})},getAjaxRecover:function(){var e;e=decodeURIComponent($(".reco_email").val()),$.ajax({method:"GET",url:"http://10.10.0.61/buendato/source/public/resetPassword?email="+e,success:function(e){var t,o;return t=e.message,o=e.status,$(".message").show("slow").text(e.message)}})}},e(),n()})}).call(this);